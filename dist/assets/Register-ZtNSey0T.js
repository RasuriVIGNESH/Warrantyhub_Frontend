import{r as i,g as j,a as N,j as e,L as v,U as k,i as d}from"./index-DoWs054Z.js";import{u as P}from"./index.esm-DwDJNE48.js";import{M as S}from"./mail-8FPoK0Rk.js";import{L as n}from"./lock-t4GtfEtb.js";import{E as c,a as m}from"./eye-D8B5fptY.js";function z(){const[t,p]=i.useState(!1),[l,x]=i.useState(!1),{register:u}=j(),h=N(),{register:a,handleSubmit:g,watch:y,formState:{errors:s,isSubmitting:o}}=P({defaultValues:{name:"",email:"",password:"",confirmPassword:""}}),f=y("password"),w=async r=>{try{await u({name:r.name,email:r.email,password:r.password})&&(d.success("Registration successful! Please sign in."),h("/login"))}catch{d.error("Failed to register. Please try again.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(v,{to:"/login",className:"font-medium text-primary hover:text-primary-dark",children:"Sign in"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g(w),children:[e.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(k,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"name",type:"text",...a("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),className:"appearance-none rounded-lg relative block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Full Name"})]}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(S,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",type:"email",...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"appearance-none rounded-lg relative block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Email address"})]}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(n,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",type:t?"text":"password",...a("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Password must contain at least one uppercase letter, one lowercase letter, one number and one special character"}}),className:"appearance-none rounded-lg relative block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!t),children:t?e.jsx(c,{className:"h-5 w-5 text-gray-400"}):e.jsx(m,{className:"h-5 w-5 text-gray-400"})})]}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(n,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"confirmPassword",type:l?"text":"password",...a("confirmPassword",{required:"Please confirm your password",validate:r=>r===f||"The passwords do not match"}),className:"appearance-none rounded-lg relative block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Confirm Password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!l),children:l?e.jsx(c,{className:"h-5 w-5 text-gray-400"}):e.jsx(m,{className:"h-5 w-5 text-gray-400"})})]}),s.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.confirmPassword.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Create Account"})})]})]})})}export{z as Register};

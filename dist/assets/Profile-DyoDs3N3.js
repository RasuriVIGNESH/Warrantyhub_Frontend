import{g as y,r as b,j as e,U as x,i as r}from"./index-DoWs054Z.js";import{u as j}from"./index.esm-DwDJNE48.js";import{L as u}from"./loader-2-B_Pw-CBw.js";import{C as N}from"./camera-BPAIj3wM.js";import{M as v}from"./mail-8FPoK0Rk.js";function A(){const{user:a,updateProfile:g}=y(),[l,o]=b.useState(!1),{register:d,handleSubmit:f,formState:{errors:s,isSubmitting:n}}=j({defaultValues:{name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||""}}),h=async i=>{try{await g(i)&&r.success("Profile updated successfully")}catch{r.error("Failed to update profile")}},p=async i=>{var m;const t=(m=i.target.files)==null?void 0:m[0];if(t){if(t.size>5*1024*1024){r.error("Image size should be less than 5MB");return}try{o(!0),await new Promise(c=>setTimeout(c,1e3)),r.success("Profile picture updated")}catch{r.error("Failed to upload image")}finally{o(!1)}}};return e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:e.jsxs("div",{className:"px-6 py-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Profile Settings"})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden",children:a!=null&&a.avatar?e.jsx("img",{src:a.avatar,alt:a.name,className:"w-full h-full object-cover"}):e.jsx(x,{className:"w-16 h-16 text-gray-400"})}),e.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-primary hover:bg-primary-dark text-white p-2 rounded-full cursor-pointer shadow-lg transition-colors",children:l?e.jsx(u,{className:"w-5 h-5 animate-spin"}):e.jsx(N,{className:"w-5 h-5"})}),e.jsx("input",{id:"avatar-upload",type:"file",className:"hidden",accept:"image/*",onChange:p,disabled:l})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Click the camera icon to upload a new profile picture"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("form",{onSubmit:f(h),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(x,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"name",...d("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",id:"email",...d("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.email.message})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{type:"submit",disabled:n,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})})]}),e.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Account Security"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",onClick:()=>{r.info("Change password functionality coming soon")},children:"Change Password"}),e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-red-300 dark:border-red-700 shadow-sm text-sm font-medium rounded-md text-red-700 dark:text-red-400 bg-white dark:bg-gray-700 hover:bg-red-50 dark:hover:bg-red-900/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:()=>{r.info("Delete account functionality coming soon")},children:"Delete Account"})]})]})]})]})]})})})}export{A as Profile};

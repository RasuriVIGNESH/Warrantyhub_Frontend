import{c as a,P as x,j as e,a as N,r as p,X as C}from"./index-DoWs054Z.js";import{S as A,L as D,T,R as u,D as h,A as b,W as P,u as I,C as L}from"./Card-C96b6n_e.js";import{B as v}from"./Button--7qJva9l.js";import{I as s}from"./Input-BsjUzpDb.js";import{C as O}from"./camera-BPAIj3wM.js";import{L as H}from"./lock-t4GtfEtb.js";import"./useAuth-DxPVRwz5.js";/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=a("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=a("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=a("DoorClosed",[["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}],["path",{d:"M14 12v.01",key:"xfcn54"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=a("Fan",[["path",{d:"M10.827 16.379a6.082 6.082 0 0 1-8.618-7.002l5.412 1.45a6.082 6.082 0 0 1 7.002-8.618l-1.45 5.412a6.082 6.082 0 0 1 8.618 7.002l-5.412-1.45a6.082 6.082 0 0 1-7.002 8.618l1.45-5.412Z",key:"484a7f"}],["path",{d:"M12 12v.01",key:"u5ubse"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=a("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=a("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=a("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=a("Lamp",[["path",{d:"M8 2h8l4 10H4L8 2Z",key:"9dma5w"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M8 22v-2c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v2H8Z",key:"mwf4oh"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=a("Microwave",[["rect",{width:"20",height:"15",x:"2",y:"4",rx:"2",key:"2no95f"}],["rect",{width:"8",height:"7",x:"6",y:"8",rx:"1",key:"zh9wx"}],["path",{d:"M18 8v7",key:"o5zi4n"}],["path",{d:"M6 19v2",key:"1loha6"}],["path",{d:"M18 19v2",key:"1dawf0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=a("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=a("PlaySquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 8 6 4-6 4Z",key:"f1r3lt"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=a("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=a("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=a("Projector",[["path",{d:"M5 7 3 5",key:"1yys58"}],["path",{d:"M9 6V3",key:"1ptz9u"}],["path",{d:"m13 7 2-2",key:"1w3vmq"}],["circle",{cx:"9",cy:"13",r:"3",key:"1mma13"}],["path",{d:"M11.83 12H20a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h2.17",key:"2frwzc"}],["path",{d:"M16 16h2",key:"dnq2od"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=a("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=a("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=a("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=a("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=a("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=a("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=a("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=a("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=a("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),ie=[{id:"smartphone",name:"SMARTPHONE",icon:A,category:"Mobile"},{id:"tablet",name:"TABLET",icon:$,category:"Mobile"},{id:"smartwatch",name:"SMARTWATCH",icon:te,category:"Mobile"},{id:"headphones",name:"HEADPHONES",icon:B,category:"Mobile"},{id:"power-bank",name:"POWER BANK",icon:x,category:"Mobile"},{id:"laptop",name:"LAPTOP",icon:D,category:"Computing"},{id:"desktop",name:"DESKTOP PC",icon:k,category:"Computing"},{id:"printer",name:"PRINTER",icon:Y,category:"Computing"},{id:"monitor",name:"MONITOR",icon:k,category:"Computing"},{id:"scanner",name:"SCANNER",icon:_,category:"Computing"},{id:"external-drive",name:"EXTERNAL DRIVE",icon:F,category:"Computing"},{id:"webcam",name:"WEBCAM",icon:ae,category:"Computing"},{id:"smart-tv",name:"SMART TV",icon:T,category:"Entertainment"},{id:"streaming-device",name:"STREAMING DEVICE",icon:U,category:"Entertainment"},{id:"soundbar",name:"SOUNDBAR",icon:w,category:"Entertainment"},{id:"home-theater",name:"HOME THEATER",icon:w,category:"Entertainment"},{id:"projector",name:"PROJECTOR",icon:X,category:"Entertainment"},{id:"dvd-player",name:"DVD PLAYER",icon:W,category:"Entertainment"},{id:"gaming-console",name:"GAMING CONSOLE",icon:z,category:"Entertainment"},{id:"portable-speaker",name:"PORTABLE SPEAKER",icon:J,category:"Entertainment"},{id:"smart-refrigerator",name:"SMART REFRIGERATOR",icon:u,category:"Kitchen"},{id:"refrigerator",name:"REFRIGERATOR",icon:u,category:"Kitchen"},{id:"microwave",name:"MICROWAVE",icon:K,category:"Kitchen"},{id:"dishwasher",name:"DISHWASHER",icon:ee,category:"Kitchen"},{id:"coffee-maker",name:"COFFEE MAKER",icon:V,category:"Kitchen"},{id:"smart-display",name:"SMART DISPLAY",icon:k,category:"Kitchen"},{id:"water-purifier",name:"WATER PURIFIER",icon:h,category:"Water & Sensors"},{id:"water-heater",name:"WATER HEATER",icon:h,category:"Water & Sensors"},{id:"water-sensor",name:"WATER SENSOR",icon:h,category:"Water & Sensors"},{id:"air-conditioner",name:"AIR CONDITIONER",icon:b,category:"Climate"},{id:"air-purifier",name:"AIR PURIFIER",icon:b,category:"Climate"},{id:"fan",name:"FAN",icon:f,category:"Climate"},{id:"dehumidifier",name:"DEHUMIDIFIER",icon:h,category:"Climate"},{id:"thermostat",name:"THERMOSTAT",icon:Q,category:"Climate"},{id:"washing-machine",name:"WASHING MACHINE",icon:P,category:"Laundry"},{id:"dryer",name:"DRYER",icon:f,category:"Laundry"},{id:"vacuum-cleaner",name:"VACUUM CLEANER",icon:x,category:"Laundry"},{id:"steam-cleaner",name:"STEAM CLEANER",icon:x,category:"Laundry"},{id:"smart-lighting",name:"SMART LIGHTING",icon:G,category:"Smart Security"},{id:"security-camera",name:"SECURITY CAMERA",icon:O,category:"Smart Security"},{id:"video-doorbell",name:"VIDEO DOORBELL",icon:q,category:"Smart Security"},{id:"smart-lock",name:"SMART LOCK",icon:H,category:"Smart Security"},{id:"router",name:"ROUTER",icon:re,category:"Smart Security"},{id:"smart-plug",name:"SMART PLUG",icon:Z,category:"Smart Security"}];function ne({onSelect:y}){const g=ie.reduce((r,i)=>(r[i.category]||(r[i.category]=[]),r[i.category].push(i),r),{});return e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Select device type"}),e.jsx("div",{className:"space-y-6",children:Object.entries(g).map(([r,i])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-3",children:r}),e.jsx("div",{className:"overflow-x-auto pb-2 [&::-webkit-scrollbar]:h-1.5 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-thumb]:bg-gray-600",children:e.jsx("div",{className:"inline-flex gap-4 min-w-full md:grid md:grid-cols-4",children:i.map(c=>{const l=c.icon;return e.jsxs("button",{onClick:()=>y(c),className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-700 rounded-lg border-2 border-transparent hover:border-primary hover:bg-gray-50 dark:hover:bg-gray-600 transition-all group min-w-[150px] md:min-w-0",children:[e.jsx(l,{className:"w-12 h-12 mb-3 text-gray-600 dark:text-gray-300 group-hover:text-primary dark:group-hover:text-primary transition-colors"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white text-center",children:c.name})]},c.id)})})})]},r))})]})}function he(){const y=N(),{createDevice:g}=I(),[r,i]=p.useState(!1),[c,l]=p.useState(null),[n,M]=p.useState({name:"",brand:"",purchaseDate:"",warrantyPeriod:"",purchasePrice:"",warrantyDocument:null,notes:""}),E=t=>{l(t)},d=(t,o)=>{M(m=>({...m,[t]:o}))},j=t=>{const o=t.target.files[0];o&&d("warrantyDocument",o)},R=async t=>{t.preventDefault(),i(!0);try{const o=new Date(n.purchaseDate),m=new Date(o);m.setMonth(o.getMonth()+parseInt(n.warrantyPeriod));const S={...n,type:c.id,warrantyEndDate:m.toISOString().split("T")[0],warrantyStatus:"active"};await g(S),y("/devices")}catch(o){console.error("Failed to create device:",o)}finally{i(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-gray-500/75 dark:bg-gray-900/75 flex items-center justify-center p-4 z-50",children:e.jsxs(L,{className:"w-full max-w-3xl max-h-[90vh] relative bg-white dark:bg-gray-800 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:none] overflow-y-auto",children:[e.jsx("button",{onClick:()=>y("/devices"),className:"absolute top-4 right-4 p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:e.jsx(C,{className:"w-5 h-5"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Add New Device"}),c?e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Device Name*"}),e.jsx(s,{type:"text",value:n.name,onChange:t=>d("name",t.target.value),placeholder:`e.g., My ${c.name}`,required:!0,className:"bg-white dark:bg-gray-700 text-gray-900 dark:text-white py-2.5 px-4 border-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Brand*"}),e.jsx(s,{type:"text",value:n.brand,onChange:t=>d("brand",t.target.value),placeholder:"e.g., Samsung",required:!0,className:"bg-white dark:bg-gray-700 text-gray-900 dark:text-white py-2.5 px-4 border-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Purchase Date*"}),e.jsx(s,{type:"date",value:n.purchaseDate,onChange:t=>d("purchaseDate",t.target.value),required:!0,className:"bg-white dark:bg-gray-700 text-gray-900 dark:text-white py-2.5 px-4 border-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Warranty Period (months)*"}),e.jsx(s,{type:"number",value:n.warrantyPeriod,onChange:t=>d("warrantyPeriod",t.target.value),placeholder:"e.g., 12",required:!0,min:"1",className:"bg-white dark:bg-gray-700 text-gray-900 dark:text-white py-2.5 px-4 border-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Purchase Price"}),e.jsx(s,{type:"number",value:n.purchasePrice,onChange:t=>d("purchasePrice",t.target.value),placeholder:"e.g., 499.99",step:"0.01",min:"0",className:"bg-white dark:bg-gray-700 text-gray-900 dark:text-white py-2.5 px-4 border-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Warranty Document"}),e.jsx("input",{type:"file",onChange:j,accept:"image/*,.pdf",className:`block w-full text-sm text-gray-500 dark:text-gray-400\r
                      file:mr-4 file:py-2.5 file:px-4\r
                      file:rounded-md file:border-0\r
                      file:text-sm file:font-medium\r
                      file:bg-primary file:text-white\r
                      hover:file:cursor-pointer hover:file:bg-primary/90\r
                      dark:file:bg-primary dark:file:text-white\r
                      dark:hover:file:bg-primary/90\r
                      py-2 border-2 border-gray-300 dark:border-gray-600 rounded-md`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),e.jsx("textarea",{value:n.notes,onChange:t=>d("notes",t.target.value),placeholder:"Any additional notes about the device...",className:"block w-full rounded-md border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 shadow-sm focus:border-primary focus:ring-primary sm:text-sm text-gray-900 dark:text-white py-2.5 px-4",rows:4})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(v,{type:"button",variant:"outline",onClick:()=>l(null),className:"dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Back"}),e.jsx(v,{type:"submit",isLoading:r,disabled:r,children:"Add Device"})]})]}):e.jsx("div",{className:"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:none]",children:e.jsx(ne,{onSelect:E})})]})]})})}export{he as AddDevice};
